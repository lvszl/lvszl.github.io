# 前缀和

## 一维前缀和



## 二维前缀和



# 差分

[参考——知乎](https://zhuanlan.zhihu.com/p/268883850)

## 一维差分

### 原理

有数组$a[] = \{a_1, a_2,\dots,a_n\}$，现在构造一个数组$b[] = \{b_1, b_2, \dots, b_n\}$ ，使得
$$
a_i = b_1 + b_2 + \dots + b_i
$$
 则称数组$b$为数组$a$的差分数组，数组$a$是数组$b$的前缀和数组。



### 用途

1. 在$O(1)$的时间复杂度内实现区间修改

例子：

假如现在要将数组$a$在区间$[L,R]$**注意，为闭区间**上的每个数均加上$x$，那么我们立马可知：

- $a[i] = b[1] + b[2] + \dots + b[i]$，故，如果$b[i] + x$，则$a[i+1:n]$ 均会增大$x$
- 因此，如果数组$a$在区间$[L,R]$中每个元素均增x，则等价于$b[L] += x,b[R+1] -= x$

由此，可得：**区间加法**

```cpp
void add(int x,int L, int R,){
    b[L] += x;
    b[R+1] -=x;
}
```

2. 在$O(n)$的时间内实现单点查询

**什么是单点查询：**

已知数组$b[]$，则其前i个元素的前缀和就是数组$a[i]$的值。

```cpp
int get(i){
    int sum = 0;
    for(int j = 0; j < i; j ++){
        sum += b[j];
    }
    return sum;
}
```



### 如何构造差分数组$b[]$

